---
title: "Wine Quality Data Set: Análise Exploratória"
author: "Marcio Woitek"
output: md_document
---

```{r setup, include=FALSE}
## Importa as bibliotecas necessárias
library(dplyr)
library(knitr)
library(magrittr)
library(readr)
library(tibble)

opts_chunk$set(echo = FALSE)
```

## Fatos Básicos

Para começar, vamos considerar alguns fatos básicos sobre o conjunto de dados
que está no arquivo `vinhos.csv`.

```{r dados, message=FALSE}
## Diretório dos arquivos de dados
diretorio <- "../dados"

## Lê o conjunto de dados
vinhos <- read_csv(file = paste(c(diretorio, "vinhos.csv"), collapse = "/"))
```

### Números de Observações

Nesse conjunto, tem dados para vinhos tintos e brancos. Então algumas
informações básicas sobre esse data set são as seguintes:

* Número de observações relacionadas com vinhos tintos;
* Número de observações relacionadas com vinhos brancos;
* Número total de observações.

Esses valores são dados na tabela abaixo.

```{r num_obs}
## Calcula os números de observações
num_obs <- vinhos %>% group_by(type) %>% summarise(obs = n())

## Adiciona uma linha com o total
linha_total <- list("type" = "Todos", "obs" = sum(num_obs$obs))
num_obs <- bind_rows(num_obs, linha_total)

## Cria a tabela
num_obs$type <- recode(num_obs$type, "red" = "Tinto", "white" = "Branco")
kable(num_obs, col.names = c("Tipo", "Observações"), align = "cc")
```

Perceba que o número total de observações apresentado no site da UCI é menor.
Naquela página, são contabilizadas apenas as observações relacionadas com os
vinhos brancos.

### Missing Values

Os pesquisadores que compilaram os dados afirmaram que este data set não possui
valores faltando. É uma boa ideia confirmar que essa afirmação é verdadeira.
A quantidade de missing values para cada coluna do conjunto de dados pode ser
vista na próxima tabela.

```{r missing_values}
## Vetor com os nomes das colunas
nomes <- colnames(vinhos)[-1]

## Vetor com o número de missing values para cada coluna
num_missing <- c()
for (i in seq_along(nomes)) {
  num_missing <- c(num_missing, sum(is.na(vinhos[[i + 1]])))
}

## Cria a tabela
kable(
  tibble(nomes, num_missing),
  col.names = c("Coluna", "Missing Values"),
  align = "cc"
)
```

### Distribuição dos Dados

Para cada vinho no conjunto de dados, há `r length(colnames(vinhos)) - 2`
medidas associadas com as propriedades químicas da bebida. É importante
analisar a distribuição de cada uma dessas variáveis numéricas. Então vamos
começar calculando para cada variável as seguintes quantidades:

* Valor mínimo;
* Primeiro quartil;
* Mediana;
* Média;
* Terceiro quartil;
* Valor máximo.

Os resultados que obtivemos estão organizados na tabela que segue.

```{r summary}
##
```
